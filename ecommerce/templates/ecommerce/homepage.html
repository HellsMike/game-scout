{% extends "ecommerce/base.html" %}

{% block content %}
<div class="container">
    <div class="row mt-3">
        <div class="col-md-12">
            <h3 class="h6 text-light fw-bold" id="homepage-motto">
                <span class="material-icons">face</span>
                Best shop for your favourite keys!
            </h3>
        </div>
    </div>
</div>


<div class="container bg-dark rounded">
    <!--start takeover-->
    <div id="takeover">
        <div class="row">
            <div class="col-md-6 pt-5 px-5">
                <h2 class="text-light fw-bold text-uppercase">Brand new keys everyday</h2>
                <ul>
                    <li class="text-light fw-bold">Games, software and much more</li>
                    <li class="text-light fw-bold">Sign up and explore our fantastic catalog</li>
                    <li class="text-light fw-bold">As seller you can upload your keys and start earning</li>
                    <li class="text-light fw-bold">With our SCOUT function you can find a lot of intresting games</li>
                </ul>
                <div class="row">
                    <div class="col-sm-10 mt-4 pb-3 px-3">
                        <a href="{% url 'ecommerce:catalog' page=1 limit=20 %}" class="btn btn-lg btn-primary text-uppercase btn-humble-orange fw-bold">
                            <span>Check our keys selection</span>
                        </a>
                    </div>
                    <div class="col-sm-10 mt-4 pb-3 px-3">
                        <a href="{% url 'ecommerce:scout' %}" class="btn btn-lg btn-primary text-uppercase btn-humble-orange fw-bold">
                            <span>Discover new games with SCOUT</span>
                        </a>
                    </div>
                </div>

            </div>

            <!--First carousel in container takeover homepage-->
            <div class="col-md-6">
                <div class="d-sm-flex flex-row">
                    <div id="carouselBig" class="carousel slide carousel-slide pt-4 pb-4 px-2" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            {% for product in most_sold_list %}
                            {% if forloop.first %}
                            <div class="carousel-item active">
                            {% else %}
                            <div class="carousel-item">
                            {% endif %}
                            <a href="{% url 'ecommerce:product' id=product.id %}"><img src="{{ product.pic.url }}" class="d-block w-100"></a>
                            </div>
                            {% endfor %}
                            <button class="carousel-control-prev" type="button" data-bs-target="#carouselBig" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                              </button>
                              <button class="carousel-control-next" type="button" data-bs-target="#carouselBig" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                              </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End First carousel in container takeover homepage -->
        </div>
    </div>
    <!-- End Takeover -->
</div>


<div class="container">
    <!-- Carousel -> Sales -->
    <div class="row">
        <div class="col-md-4 mt-5 " >
            <h2 class="h2 text-center text-light fw-bold">
                SALES
            </h2>
            <div class="row justify-content-center">
                <div class="col-md-10 align-self-center mb-5 mt-2 " >
                    <div id="carouselSales" class="carousel slide carousel-fade" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            {% for product in big_sales_list %}
                            <!--First Carousel item -->
                            {% if forloop.first %}
                            <div class="carousel-item active">
                            {% else %}
                            <div class="carousel-item">
                            {% endif %}
                                <div class="card bg-dark text-center">
                                    <img class="card-img-top" src="{{product.pic.url}}" alt="Image not found" onerror="this.onerror=null;this.src='/media/products/images/img_default.jpg';">
                                    <div class="card-body text-light">
                                        <h2 class="card-title">{{ product.name }}</h2>
                                        <p class="card-text">Developer: {{ product.developer }}</p>
                                        <p class="card-text">Genre: {{ product.genre }}</p>
                                        <h5 class="card-text">Max sale: <p class="text-warning">{{ product.key__sale__max }} %</p></h5>
                                        <div class="d-grid gap-2 col-3 mx-auto">
                                            <a class="btn badge-product mt-3" href="{% url 'ecommerce:product' id=product.id %}" type="button">BUY</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        <!-- Carousel buttons slideshow-->
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselSales" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselSales" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Carousel -> Top Rated -->
        <div class="col-md-4 mt-5 " >
            <h2 class="h2 text-center text-light fw-bold">
                TOP RATED
            </h2>
            <div class="row justify-content-center">
                <div class="col-md-10 align-self-center mb-5 mt-2 " >
                    <div id="carouselRate" class="carousel slide carousel-fade" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            {% for product in top_rated_list %}
                            <!--First Carousel item -->
                             {% if forloop.first %}
                            <div class="carousel-item active">
                            {% else %}
                            <div class="carousel-item">
                            {% endif %}
                                <div class="card bg-dark text-center">
                                    <img class="card-img-top" src="{{product.pic.url}}" alt="Image not found" onerror="this.onerror=null;this.src='/media/products/images/img_default.jpg';">
                                    <div class="card-body text-light">
                                        <h2 class="card-title">{{ product.name }}</h2>
                                        <p class="card-text">Developer: {{ product.developer }}</p>
                                        <p class="card-text">Genre: {{ product.genre }}</p>
                                        <h5 class="card-text">Ratings: <p class="text-success">{{ product.review__count }}</p></h5>
                                        <div class="d-grid gap-2 col-3 mx-auto">
                                            <a class="btn badge-product mt-3" href="{% url 'ecommerce:product' id=product.id %}" type="button">BUY</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}

                        </div>
                        <!-- Carousel buttons slideshow-->
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselRate" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselRate" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Carousel -> Latest -->
        <div class="col-md-4 mt-5 " >
            <h2 class="h2 text-center text-light fw-bold">
                LATEST
            </h2>
            <div class="row justify-content-center">
                <div class="col-md-10 align-self-center mb-5 mt-2 " >
                    <div id="carouselNew" class="carousel slide carousel-fade" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <!--First Carousel item -->
                            {% for product in lastests_list %}
                            <!--First Carousel item -->
                             {% if forloop.first %}
                            <div class="carousel-item active">
                            {% else %}
                            <div class="carousel-item">
                            {% endif %}
                                <div class="card bg-dark text-center">
                                    <img class="card-img-top" src="{{product.pic.url}}" alt="Image not found" onerror="this.onerror=null;this.src='/media/products/images/img_default.jpg';">
                                    <div class="card-body text-light">
                                        <h2 class="card-title">{{ product.name }}</h2>
                                        <p class="card-text">Developer: {{ product.developer }}</p>
                                        <p class="card-text">Genre: {{ product.genre }}</p>
                                        <h5 class="card-text">Publishing date: <p class="text-info">{{ product.publishing_date|date:"d/m/Y" }}</p></h5>
                                        <div class="d-grid gap-2 col-3 mx-auto">
                                            <a class="btn badge-product mt-3" href="{% url 'ecommerce:product' id=product.id %}" type="button">BUY</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                        <!-- Carousel buttons slideshow-->
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselNew" data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselNew" data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


{% endblock %}